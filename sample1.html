<!DOCTYPE HTML>
<html>

<head>
    <title>sample1</title>

    <meta charset="utf-8">
    <link rel="stylesheet" href="./css/sample1.css">
</head>

<body>
    <section id="main-form">
        <nav class="nav-bar"></nav>
        <section class="container">
            <div>
                <img src="http://webframeworks.kr/tutorials/angularjs/app_structure_with_module/imgs/module_tutorial_04.png">
            </div>
            <div class="items">
                <h2>Title</h2>
                <hr>
                <p>
                    Content
                </p>
            </div>
        </section>
        <section class="container" style="transform: translate3d(0,100px,0px);">
            <div>
                <img src="http://static1.squarespace.com/static/552a5cc4e4b059a56a050501/565f6b57e4b0d9b44ab87107/566024f5e4b0354e5b79dd24/1449141991793/NYCGifathon12.gif">
            </div>
            <div class="items">
                <h2>Title</h2>
                <hr>
                <p>
                    Content
                </p>
            </div>
        </section>
    </section>
    <section id="hidden-form">
        <nav class="nav-bar"></nav>
        <section class="form-container">
            <section class="side">
                <div class="card">
                </div>
            </section>
            <section class="main">
                <div class="card">
                </div>
            </section>
        </section>
    </section>
    <script src="./js/css3.js"></script>
    <script>
        var mainForm = document.getElementById('main-form');
        var hiddenForm = document.getElementById('hidden-form');

        var navBars = document.getElementsByClassName('nav-bar');
        var navActive = false;

        for (var i = 0; i < navBars.length; i++) {
            var nav = navBars[i];
            nav.addEventListener('click', function () {
                if (navActive === false) {
                    navActive = 'loading';

                    mainForm.style.transform = 'rotateZ(-90deg)';
                    setTimeout(function () {
                        mainForm.setCss3('transition', 'all 3s')
                            .setCss3('transform', mainForm.getCss3('transform') + " translateX(100%)");

                        hiddenForm.setCss3('top', '0')
                            .setCss3('opacity', '1');

                        navActive = true;
                    }, 1000);
                } else if (navActive === true) {
                    navActive = 'loading';

                    mainForm.setCss3('transition', 'all 0.5s')
                        .setCss3('transform', 'none');

                    hiddenForm.setCss3('opacity', '0')
                        .setCss3('top', '100%');

                    navActive = false;
                }
            });
        }

        setTimeout(function () {

            var containers = document.getElementsByClassName('container');
            var itemContainers = document.getElementsByClassName('container-items');

            for (var i = 0; i < containers.length; i++) {
                var container = containers[i];
                container.setCss3('transform', 'translate(0,0)')
                    .setCss3('opacity', '1');
                (function (c) {
                    setTimeout(function () {
                        var items = null;
                        for (var i = 0, len = c.childElementCount; i < len; i++) {
                            var ch = c.children[i];
                            if (ch.classList.contains('items')) {
                                items = ch;
                            }
                        }
                        if (!items) {
                            return -1;
                        }
                        for (var i = 0, len = items.childElementCount; i < len; i++) {
                            var ch = items.children[i];
                            ch.style.opacity = 1;
                        }
                    }, 800);
                })(container);
            }
        }, 0);

        function clearTransform(e) {
            e.style.transform = "translate(0,0)";
            e.style.opacity = "1";
        }
    </script>
</body>

</html>